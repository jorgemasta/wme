import { useState } from 'react';
import {
  ArgsTable,
  Story,
  Canvas,
  Meta
} from '@storybook/addon-docs';
import {
  WizardFooter,
  Button,
  Navigation,
  NavNumber,
} from '..';
import { Box, Typography } from '@mui/material';
import backArrow from '../../stories/assets/back-arrow.svg';
import { screens } from '../navigation/navigation.stories.mdx';

<Meta
  title="Wizard/WizardFooter"
  component={ WizardFooter }
  argTypes={{
    backText: {
      control: {
        type: 'text',
      },
      description: 'Text for back button',
    },
    onBack: {
      description: 'Callback fired when the back button is clicked.',
      table: {
        type: {
          summary: 'func',
        },
      }
    },
    skipText: {
      control: {
        type: 'text',
      },
      description: 'Text for skip button',
      table: {
        type: {
          summary: 'string',
        },
      }
    },
    onSkip: {
      description: 'Callback fired when the skip button is clicked.',
      table: {
        type: {
          summary: 'func',
        },
      }
    },
    nextText: {
      control: {
        type: 'text',
      },
      description: 'Text for Next button',
      table: {
        type: {
          summary: 'string',
        },
      }
    },
    onNext: {
      description: 'Callback fired when the next button is clicked.',
      table: {
        type: {
          summary: 'func',
        },
      }
    },
    activeStep: {
      control: {
        type: 'number',
      },
      description: 'Current active step',
      table: {
        type: {
          summary: 'number',
        },
      }
    },
    steps: {
      control: 'object',
      description: 'Array of steps. Each step should be an object containing the properties shown in the control.',
      table: {
        type: {
          summary: 'Array',
        },
      }
    },
    disableNext: {
      control: {
        type: 'boolean',
      },
      description: 'Boolean to disable the next button',
      table: {
        type: {
          summary: 'boolean',
        },
        defaultValue: {
          summary: `false`,
        }
      }
    },
    isLoading: {
      control: {
        type: 'boolean',
      },
      description: 'Changes Next button to a loading state',
      table: {
        type: {
          summary: 'boolean',
        },
        defaultValue: {
          summary: `false`,
        }
      }
    },
    loadingText: {
      control: {
        type: 'text',
        description: 'Text for loading button',
        table: {
        type: {
          summary: 'boolean',
        },
      }
      }
    },
    save: {
      description: 'Callback for when the save button is clicked on the last step',
      table: {
        type: {
          summary: 'func',
        },
      }
    }
  }}
/>

export const Template = (args) => {
  const [active, setActive] = useState(0);
  return (
    <WizardFooter {...args} />
  );
};

# Wizard Footer
The wizard footer should appear on every Wizard to provide users with proper expectations.

Callback functions should be provided for "Back", "Skip", and "Next".

Steps should be passed in as an array of objects, as modeled below. Although you can use it as needed, the
easiest way is to pass your screen as a component in the step object, such as:

```
	const steps = [
		{
			id: 0,
			label: "label 1",
			hideBack: true,
			screen: <Screen 1 />,
			step: 'step2',
		},
    {
			id: 1,
			label: "label 2",
			hideBack: true,
			hidePagination: true,
			screen: <Screen 2 />,
			step: 'step2',
		},
  ];
```

## Props
<ArgsTable story="." />

## Example
```
import React, { useState } from 'react';
import { WizardFooter } from '@moderntribe/wme';

export const MyWizardFooter = (props) => {
  return (
    <WizardFooter {...props} />
  );
};
```

## Canvas
<Canvas>
  <Story
    name="Default"
    args={{
      backText: 'Back',
      nextText: 'Next',
      skipText: 'Skip',
      activeStep: 0,
      steps: [
        {
          id: 0,
          heading: "Choose a template",
          hidePagination: false,
          label: "Choose a template",
          step: "template",
          text: "Our set up wizard will help you get the most out of your store.",
          disableNext: true,
	      },
        {
          id: 1,
          heading: "Choose a font",
          hideBack: true,
          hideSkip: true,
          hidePagination: false,
          label: "Fonts",
          step: "fonts",
          text: "Lets pick a starting font, you can always change it later and pick from more options.",
        },
        {
          id: 2,
          heading: "Pick some colors",
          hidePagination: true,
          label: "Colors",
          step: "colors",
          text: "Let's get you some starting colors. You can always update, expand, and change these later.",
        },
      ],
      loadingText: 'Saving',
    }}
  >
  {Template.bind({})}
  </Story>
</Canvas>
