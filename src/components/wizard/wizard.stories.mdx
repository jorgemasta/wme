import {
  ArgsTable,
  Story,
  Canvas,
  Meta
} from '@storybook/addon-docs';
import { useState } from 'react';
import {
  Wizard,
  Button,
  Navigation,
  NavNumber
} from '..';
import { screens } from '../navigation/navigation.stories.mdx';
import welcomeImage from '../../stories/images/ftc-welcome.png';
import { Box, Typography } from '@mui/material';

<Meta
  title="Wizard/Wizard"
  component={ Wizard }
  argTypes={{
    open: {
      type: { required: true },
      control: 'boolean',
      description: 'Boolean value of if modal should be opened (required)',
      defaultValue: true,
      table: {
        defaultValue: {
          summary: false,
        },
      }
    },
    onClose: {
      description: 'Callback fired when the wizard is closed.',
      table: {
        type: {
          summary: 'func',
        },
      }
    },
  }}
/>

export const INTRO_TEXT = 'Let\'s set up a few basic details about your store. You can skip any of these steps and come back to them later if you\'re not ready to complete them yet.';
export const TITLE_TEXT = 'Welcome to StoreBuilder for WordPress!';

export const Template = (args) => {
  const [active, setActive] = useState(0);
  return (
    <>
    <Typography>Change the <i>open</i> prop in "Controls" to open/close the wizard.</Typography>
    <Wizard {...args}>
      <Box
        mb={ 3 }
        sx={{
          img: {
            maxWidth: '75px',
          }
        }}
        textAlign={ 'center' }>
        <img src={ welcomeImage } alt={ 'party emoji welcome' } />
      </Box>
      <Box>
        <Typography
          sx={{ fontSize: '48px' }}
          variant="h3"
          component="h2"
          mb={ 3 }
          align={ 'center' }>
          { TITLE_TEXT }
        </Typography>
        <Typography
          sx={{ maxWidth: 460 }}
          variant="body1"
          component="p"
          ml={ 'auto' }
          mr={ 'auto' }
          mb={ 3 }
          align={ 'center' }>
          { INTRO_TEXT }
        </Typography>
		  </Box>
      <Navigation width="auto">
        {
          screens.map((screen, i) => (
            <NavNumber
              number={i + 1}
              text={screen.text}
              onClick={() => setActive(i)}
              active={active === i}
              key={i}
              isComplete={false}
            />
          ))
        }
      </Navigation>
    </Wizard>
    </>
  );
};

# Wizard
The Wizard is a Dialog box that can be opened/closed. It is the MUI `Dialog` component
wrapping the `DialogContent` component. Children are passed to `DialogContent`.

This Wizard Component extends MUI's Modal, so you can access any props available there. <a href="https://mui.com/material-ui/api/dialog" target="_blank">You can view the reference here</a>.
Since this is for building a Wizard, the Modal will always expand to fullscreen. If you don't want the fullscreen Wizard option, we recommend using MUI's `Dialog` or `Modal` component instead.

## WordPress Compatibility
If using the WME Framework in the WordPress admin, we recommend passing a `z-index` of at least `99999` into
the `Wizard` component using the MUI's Global Theme Overrides. For example:

```
const theme = createTheme({
  components: {
    // Name of the component
    Wizard: {
      styleOverrides: {
        root: {
          zIndex: 99999,
        },
      },
    },
  },
});
```

## Props
<ArgsTable story="." />

## Canvas
<Canvas>
  <Story
    name="Default"
  >
  {Template.bind({})}
  </Story>
</Canvas>
