import { useState } from 'react';
import {
  ArgsTable,
  Story,
  Canvas,
  Meta
} from '@storybook/addon-docs';
import {
  WizardFooter,
  Button,
  Navigation,
  NavNumber,
} from '..';
import { Box, Typography } from '@mui/material';
import backArrow from '../../stories/assets/back-arrow.svg';
import { screens } from '../navigation/navigation.stories.mdx';

<Meta
  title="Wizard/WizardFooter"
  component={ WizardFooter }
  argTypes={{
    previous: {
      type: 'object',
    }
  }}
/>

export const Previous = () => (
  <Box sx={{ display: 'flex', cursor: 'pointer' }} onClick={() => console.log('Back Button Clicked')}>
    <img src={backArrow} alt="back arrow icon" style={{ marginRight: '5px'}} />
    <Typography variant="body1">Back</Typography>
  </Box>
);

export const Skip = () => (
  <Box sx={{ textDecoration: 'underline', cursor: 'pointer' }} onClick={() => console.log('Skip Button Clicked')}>
    <Typography variant="body1">Skip</Typography>
  </Box>
);

export const Next = () => (
  <Button variant="contained" color="primary" onClick={() => console.log('Next Button Clicked')}>
    Next
  </Button>
);

export const Template = (args) => {
  const [active, setActive] = useState(0);
  return (
    <WizardFooter {...args}>
      <Navigation width="auto">
        {
          screens.map((screen, i) => (
            <NavNumber
              number={i + 1}
              text={screen.text}
              onClick={() => setActive(i)}
              active={active === i}
              key={i}
              isComplete={false}
            />
          ))
        }
      </Navigation>
    </WizardFooter>
  );
};

# Wizard Footer
The wizard footer should appear on every Wizard to provide users with proper expectations.

The Previous Button, Skip Button, and Next Button are all passed in as props. These can be buttons, links,
components, etc. The actual navigation is passed in as the children of `WizardFooter`. We recommend using
the WME `Navigation` component, but you can also use MUI's or your own nav.

## Props
<ArgsTable story="." />

## Example
```
import React, { useState } from 'react';
import {
  Navigation,
  NavNumber,
  Button,
} from '@moderntribe/wme';
import { Box, Typography } from '@mui/material';

const Previous = () => (
  <Box sx={{ display: 'flex', cursor: 'pointer' }} onClick={() => console.log('Back Button Clicked')}>
    <img src={backArrow} alt="back arrow icon" style={{ marginRight: '5px'}} />
    <Typography variant="body1">Back</Typography>
  </Box>
);

const Skip = () => (
  <Box sx={{ textDecoration: 'underline', cursor: 'pointer' }} onClick={() => console.log('Skip Button Clicked')}>
    <Typography variant="body1">Skip</Typography>
  </Box>
);

const Next = () => (
  <Button variant="contained" color="primary" onClick={() => console.log('Next Button Clicked')}>
    Next
  </Button>
);

export const MyWizardFooter = (screens) => {
  const [active, setActive] = useState(0);
  return (
    <WizardFooter
      previous={previous}
      skip={skip}
      next={next}
    >
      <Navigation width="auto">
        {
          screens.map((screen, i) => (
            <NavNumber
              number={i + 1}
              text={screen.text}
              onClick={() => setActive(i)}
              active={active === i}
              key={i}
              isComplete={false}
            />
          ))
        }
      </Navigation>
    </WizardFooter>
  );
};
```

## Canvas
<Canvas>
  <Story
    name="Default"
    args={{
      previous: <Previous />,
      skip: <Skip />,
      next: <Next />,
    }}
  >
  {Template.bind({})}
  </Story>
</Canvas>
