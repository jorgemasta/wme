import { ArgsTable, Story, Canvas, Meta } from "@storybook/addon-docs";
import { useState, ChangeEvent } from "react";
import { PasswordInput } from "..";

<Meta
  title="Forms/PasswordInput"
  component={PasswordInput}
  argTypes={{
    chipColor: {
      control: {
        defaultValue: "error",
        type: "select",
      },
      description: "Chip color for password strength",
      options: ["error", "warning", "success"],
    },
    chipLabel: {
      control: "text",
      description: "Text that displays inside of chip for password strength",
    },
    error: {
      control: "boolean",
      description: "If true, the input will indicate an error. The prop defaults to the value (false), and can be inherited from the parent FormControl component."
    },
    placeholder: {
      control: "text",
      description: "Placeholder text to display inside input field",
    },
    type: {
      control: false,
      description: 'Type of input field to display ("password" or "text")',
      required: true,
    },
    value: {
      control: "text",
      description: "Value entered into field",
      required: true,
    },
  }}
/>

export const Template = (args) => {
  const [password, setPassword] = useState("");
  const handleSetPassword = (event) => {
    setPassword(event.target.value);
  };
  return (
    <PasswordInput value={password} onChange={handleSetPassword} {...args} />
  );
};

# Password Input

Password fields show strength of password, and have the option to reveal the password to the user by selecting the icon within the input field.

Extends `TextInput` which is a styled version of <a href="https://mui.com/material-ui/api/input-base/" target="_blank">MUI's InputBase</a>, so you can use any prop provided there.

## Handling Events/Example

Events such as `onClick` and `onChange` will be handled by the developer, as well as any validation.

```
import React, { useState } from 'react';
import { PasswordInput } from '@moderntribe/wme';

export const MyPasswordInput = (args) => {
  const [password, setPassword] = useState('');

   const handleSetPassword = (event) => {
    setPassword(event.target.value);
  };

  return (
    <PasswordInput
      onChange={handleSetPassword}
      value={password}
      {...args}
    />
  );
};

export default MyPasswordInput;
```

## Props

<ArgsTable story="." />

## Canvas

<Canvas>
  <Story name="Base">{Template.bind({})}</Story>
  <Story
    name="Chip"
    args={{
      chipColor: "error",
      chipLabel: "weak",
      value: "password",
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
