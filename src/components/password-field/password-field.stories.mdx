import {
  ArgsTable,
  Story,
  Canvas,
  Meta,
} from '@storybook/addon-docs';
import { useState, ChangeEvent } from 'react';
import { PasswordField } from '..';

<Meta
  title="Input/Password"
  component={PasswordField}
  argTypes={{
    color: {
      control: {
        type: 'radio',
        options: [
          'error', 'warning', 'success',
        ],
        defaultValue: 'error',
      },
      description: 'Chip color for password strength',
    },
    chipLabel: {
      control: 'text',
      description: 'Text that displays inside of chip for password strength',
    },
    label: {
      control: { type: 'text' },
      description: 'Optional label text above component',
    },
    error: {
      control: 'boolean',
      description: 'True/false value for displaying an error',
    },
    errorMessage: {
      control: 'text',
      description: 'Error message, only shows if "error" === true',
    },
    helperText: {
      control: 'text',
      description: 'Optional helper text to display under component',
    },
    placeholder: {
      control: 'text',
      description: 'Placeholder text for Password Field',
    },
    type: {
      control: false,
      description: 'Accepts "password" or "text" to determine text field type',
      required: true,
    },
    value: {
      control: 'text',
      description: 'Value entered into field',
      required: true,
    },
  }}
/>

export const Template = (args) => {
  const [password, setPassword] = useState('');
  const handleSetPassword = (event) => {
    setPassword(event.target.value);
  };
  return (
    <PasswordField
      value={password}
      onChange={handleSetPassword}
      {...args}
    />
  );
};

# Password
Password fields show strength of password, and have the option
to reveal the password to the user by selecting the icon within
the input field.

## Props
<ArgsTable story="." />

## Handling Events/Example
Events such as `onClick` and `onChange` will be handled by the
developer, as well as any validation.
```
import React, { useState } from 'react';
import { Dropdown, MenuItem } from '@moderntribe/wme';

export const MyPasswordField = (args) => {
  const [password, setPassword] = useState('');

  const [showPassword, setShowPassword] = useState(false);

  const handleClickShowPassword = () => {
    setShowPassword(!showPassword);
  };

  const handleSetPassword = (event) => {
    setPassword(event.target.value);
  };

  const handleMouseDownPassword = (event) => {
    event.preventDefault();
  };

  return (
    <PasswordField
      type={showPassword ? 'text' : 'password'}
      value={password}
      onChange={handleSetPassword}
      onClick={handleClickShowPassword}
      onMouseDown={handleMouseDownPassword}
      {...args}
    />
  );
};

export default MyPasswordField;
```
## Canvas
<Canvas>
  <Story
    name="PasswordField"
    args={{
      label: 'Your Password',
      helperText: 'Helper text lorem ipsum',
      chipLabel: 'Weak',
      color: 'error',
      placeholder: 'i.e. Mellon',
      error: false,
      errorMessage: 'Farewell, my brave Hobbits!',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>
